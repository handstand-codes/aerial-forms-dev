<script src="https://email-getter-v7--development.gadget.app/api/client/web.min.js"  defer="defer"></script>


<script src="{{ 'SubmitEmail.js' | asset_url }}" defer="defer"></script>


<submit-component class="w-full">
    <div class="flex items-center justify-center">
        <h2 class=""> {{ block.settings.email }} </h2>

        {% form 'customer', class: 'flex' %}
            
            <input
                class=""
                style="
                width: 25%;
                font-size: 20px;
                font-weight: normal;
                padding: 10px 10px 10px 10px;
                margin: 0 10px 0 0;
                outline: none;
                box-shadow: none;
                border-style: solid;
                border-color: black;
                border-radius: 5px;

                "
                id="submitEmail"
                type="email"
                name="contact[email]"
                value="{{ form.email }}"
                aria-required="true"
                autocorrect="off"
                autocapitalize="off"
                autocomplete="email"
                {% if form.errors %}
                autofocus
                aria-invalid="true"
                aria-describedby="Newsletter-error--{{ section.id }}"
                {% elsif form.posted_successfully? %}
                aria-describedby="Newsletter-success--{{ section.id }}"
                {% endif %}
                placeholder="Enter your email"
                required
            >

            <button class="" style="color: white; background: green; border: none; padding: 10px 15px 10px 15px; border-radius: 5px; cursor: pointer;" type="submit" name="commit" id="Subscribe" aria-label="{{ 'newsletter.button_label' | t }}">Submit</button>
                                    
            {%- if form.errors -%}
            <small id="Newsletter-error--{{ section.id }}">{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}</small>
            {%- endif -%}
            
            {%- if form.posted_successfully? -%}
            <h3 id="Newsletter-success--{{ section.id }}" tabindex="-1" autofocus>{{ 'newsletter.success' | t }}</h3>
            {%- endif -%}
        {% endform %}
        
    </div>
</submit-component>


{% schema %}
{
  "name": "Email Getter",
  "target": "section",
    "enabled_on": {
      "templates": ["index"]
    },
    "settings": [
        {
            "type": "text",
            "id": "email",
            "label": "Email",
            "default": "Email"
        }
    ]
}
{% endschema %}